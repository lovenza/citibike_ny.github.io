<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Zihan Zhou" />

<meta name="date" content="2025-11-25" />

<title>EDA</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ðŸš´ Citi Bike NYC</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="data_wrangling.html">
    <span class="fa fa-database"></span>
     
    Data Wrangling
  </a>
</li>
<li>
  <a href="EDA.html">
    <span class="fa fa-chart-bar"></span>
     
    EDA &amp; Visualization
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-calculator"></span>
     
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="statistical_analysis_RIDERSHIP_COMPLETE.html">Daily Ridership Analysis</a>
    </li>
    <li>
      <a href="model_and_spatial_analysis_STYLED.html">Ride Duration Analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://kwokmungyu.shinyapps.io/shiny_app/">
    <span class="fa fa-dashboard"></span>
     
    Shiny Dashboard
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-users"></span>
     
    About Us
  </a>
</li>
<li>
  <a href="proposal.html">
    <span class="fa fa-file-text"></span>
     
    Proposal
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lovenza/citibike_ny.github.io">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">EDA</h1>
<h4 class="author">Zihan Zhou</h4>
<h4 class="date">2025-11-25</h4>

</div>


<p><a href="index_citibike.html" class="back-home">
<i class="fa fa-home"></i> Back to Home </a></p>
<div class="hero-section">
<h1>
ðŸ“Š Exploratory Data Analysis
</h1>
<p>
Uncovering Patterns in NYC Citi Bike Usage
</p>
</div>
<p><br></p>
<<<<<<< HEAD
<div id="data-loading" class="section level1 info-card">
<h1>Data Loading</h1>
<p>Load key packages and data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;gridExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     combine</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;tsibble&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:lubridate&#39;:
## 
##     interval</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, union</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">library</span>(feasts)</span></code></pre></div>
<pre><code>## Loading required package: fabletools</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code></pre></div>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>bike <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/final_bike_weather_categorized.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 99986 Columns: 28</code></pre>
<pre><code>## â”€â”€ Column specification â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
## Delimiter: &quot;,&quot;
## chr  (11): ride_id, rideable_type, start_station_name, start_station_id, end_station_name, end_station_id, member_casual, t...
## dbl  (12): start_lat, start_lng, end_lat, end_lng, start_month, start_day, ride_duration_hours, distance_km, bearing_degree...
## dttm  (4): started_at, ended_at, datetime_start_obj, datetime_end_obj
## date  (1): start_date
## 
## â„¹ Use `spec()` to retrieve the full column specification for this data.
## â„¹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">glimpse</span>(bike)</span></code></pre></div>
<pre><code>## Rows: 99,986
## Columns: 28
## $ ride_id             &lt;chr&gt; &quot;761B30A5B7B64236&quot;, &quot;FBEA1249070FDC8C&quot;, &quot;91A5019736D417E6&quot;, &quot;F1CD7CB1CF230FBB&quot;, &quot;31C8B256EFAD12A9â€¦
## $ rideable_type       &lt;chr&gt; &quot;electric_bike&quot;, &quot;electric_bike&quot;, &quot;classic_bike&quot;, &quot;electric_bike&quot;, &quot;classic_bike&quot;, &quot;electric_bikeâ€¦
## $ started_at          &lt;dttm&gt; 2025-09-01 11:38:30, 2025-09-01 19:38:52, 2025-09-01 13:55:21, 2025-09-01 18:10:23, 2025-09-01 1â€¦
## $ ended_at            &lt;dttm&gt; 2025-09-01 11:42:08, 2025-09-01 19:46:19, 2025-09-01 13:58:07, 2025-09-01 18:22:11, 2025-09-01 1â€¦
## $ start_station_name  &lt;chr&gt; &quot;5 Ave &amp; E 30 St&quot;, &quot;W 74 St &amp; Columbus Ave&quot;, &quot;Cumberland St &amp; Lafayette Ave&quot;, &quot;Monroe St &amp; Marcusâ€¦
## $ start_station_id    &lt;chr&gt; &quot;6248.08&quot;, &quot;7230.10&quot;, &quot;4428.02&quot;, &quot;4467.03&quot;, &quot;5329.03&quot;, &quot;4157.10&quot;, &quot;7606.01&quot;, &quot;6912.01&quot;, &quot;7260.09&quot;â€¦
## $ end_station_name    &lt;chr&gt; &quot;8 Ave &amp; W 31 St&quot;, &quot;3 Ave &amp; E 72 St&quot;, &quot;Lafayette Ave &amp; Ft Greene Pl&quot;, &quot;Pacific St &amp; Troy Ave&quot;, &quot;Wâ€¦
## $ end_station_id      &lt;chr&gt; &quot;6450.05&quot;, &quot;7028.04&quot;, &quot;4470.09&quot;, &quot;4122.03&quot;, &quot;5989.02&quot;, &quot;4231.04&quot;, &quot;7606.01&quot;, &quot;6912.01&quot;, &quot;7023.04&quot;â€¦
## $ start_lat           &lt;dbl&gt; 40.74598, 40.77857, 40.68753, 40.68672, 40.71755, 40.67944, 40.79819, 40.76674, 40.77967, 40.7466â€¦
## $ start_lng           &lt;dbl&gt; -73.98629, -73.97755, -73.97265, -73.93899, -74.01322, -73.96804, -73.96059, -73.97907, -73.98093â€¦
## $ end_lat             &lt;dbl&gt; 40.75059, 40.76994, 40.68700, 40.67686, 40.73805, 40.68048, 40.79819, 40.76674, 40.77051, 40.7340â€¦
## $ end_lng             &lt;dbl&gt; -73.99468, -73.96061, -73.97665, -73.93607, -73.99643, -73.96468, -73.96059, -73.97907, -73.98804â€¦
## $ member_casual       &lt;chr&gt; &quot;casual&quot;, &quot;casual&quot;, &quot;member&quot;, &quot;casual&quot;, &quot;casual&quot;, &quot;member&quot;, &quot;casual&quot;, &quot;casual&quot;, &quot;member&quot;, &quot;memberâ€¦
## $ datetime_start_obj  &lt;dttm&gt; 2025-09-01 11:38:30, 2025-09-01 19:38:52, 2025-09-01 13:55:21, 2025-09-01 18:10:23, 2025-09-01 1â€¦
## $ datetime_end_obj    &lt;dttm&gt; 2025-09-01 11:42:08, 2025-09-01 19:46:19, 2025-09-01 13:58:07, 2025-09-01 18:22:11, 2025-09-01 1â€¦
## $ start_month         &lt;dbl&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9â€¦
## $ start_day           &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦
## $ ride_duration_hours &lt;dbl&gt; 0.06069722, 0.12432833, 0.04609028, 0.19654083, 0.33333361, 0.50450139, 0.06815056, 0.23914194, 0â€¦
## $ distance_km         &lt;dbl&gt; 0.8734433, 1.7209451, 0.3426126, 1.1251295, 2.6857201, 0.3069076, 0.0000000, 0.0000000, 1.1822209â€¦
## $ bearing_degrees     &lt;dbl&gt; -54.205788, 123.800393, -99.910075, 167.305024, 31.924904, 67.807068, 180.000000, 180.000000, -14â€¦
## $ start_date          &lt;date&gt; 2025-09-01, 2025-09-01, 2025-09-01, 2025-09-01, 2025-09-01, 2025-09-01, 2025-09-01, 2025-09-01, â€¦
## $ tmax                &lt;dbl&gt; 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 78, 7â€¦
## $ tmin                &lt;dbl&gt; 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 64, 6â€¦
## $ prcp                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0â€¦
## $ temp_diff_category  &lt;chr&gt; &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Medium&quot;, &quot;Mediumâ€¦
## $ temp_level_category &lt;chr&gt; &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;, &quot;Low&quot;,â€¦
## $ rain_category       &lt;chr&gt; &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;, &quot;No Rain&quot;â€¦
## $ weekend_and_holiday &lt;chr&gt; &quot;weekend and holiday&quot;, &quot;weekend and holiday&quot;, &quot;weekend and holiday&quot;, &quot;weekend and holiday&quot;, &quot;weekâ€¦</code></pre>
=======
<div id="introduction" class="section level1 info-card">
<h1>1. Introduction</h1>
<p>In this part, we perform exploratory data analysis (EDA) and
visualization for Citi Bike trips in September 2025 focusing on temporal
patterns and weather influences.</p>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
</div>
<div id="dataset-overview" class="section level1 info-card">
<h1>2. Dataset Overview</h1>
<p>The dataset contains <strong>stratified sampled Citi Bike trips from
September 2025</strong>, enriched with <strong>weather
categories</strong>.<br />
Each row represents <strong>a single bike ride</strong> with detailed
trip-level information including:</p>
<ul>
<li>Ride ID<br />
</li>
<li>Bike type (electric vs.Â classic)<br />
</li>
<li>Start/end time and station<br />
</li>
<li>Rider type (member vs.Â casual)<br />
</li>
<li>Ride duration (hours), distance (km), bearing<br />
</li>
<li>Weather on the ride date (tmax, tmin, prcp, temperature category,
rain category)<br />
</li>
<li>Weekend/weekday indicator</li>
</ul>
<p>This allows us to analyze:</p>
<ul>
<li>Time-of-day and weekday/weekend behavior<br />
</li>
<li>Member vs.Â casual behavior<br />
</li>
<li>Weather effects<br />
</li>
<li>Time-series trends across the month</li>
</ul>
<<<<<<< HEAD
<p>In this part, we perform exploratory data analysis (EDA) and
visualization for Citi Bike trips in September 2025 focusing on temporal
patterns and weather influences.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="cf">if</span> (<span class="st">&quot;datetime_start_obj&quot;</span> <span class="sc">%in%</span> <span class="fu">names</span>(bike) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">all</span>(<span class="fu">is.na</span>(bike<span class="sc">$</span>datetime_start_obj))) {</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  bike <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">datetime_start =</span> <span class="fu">ymd_hms</span>(datetime_start_obj, <span class="at">quiet =</span> <span class="cn">TRUE</span>))</span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>  bike <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">datetime_start =</span> <span class="fu">ymd_hms</span>(started_at, <span class="at">quiet =</span> <span class="cn">TRUE</span>))</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>}</span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>bike <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a>  <span class="at">date =</span> <span class="fu">as.Date</span>(datetime_start),</span>
<span id="cb21-11"><a href="#cb21-11" tabindex="-1"></a>  <span class="at">hour =</span> <span class="fu">hour</span>(datetime_start),</span>
<span id="cb21-12"><a href="#cb21-12" tabindex="-1"></a>  <span class="at">wday =</span> <span class="fu">wday</span>(datetime_start, <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">week_start =</span> <span class="dv">1</span>),</span>
<span id="cb21-13"><a href="#cb21-13" tabindex="-1"></a>  <span class="at">weekday_weekend =</span> <span class="fu">case_when</span>(</span>
<span id="cb21-14"><a href="#cb21-14" tabindex="-1"></a>  weekend_and_holiday <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;weekend&quot;</span>, <span class="st">&quot;weekend and holiday&quot;</span>, <span class="st">&quot;Weekend&quot;</span>, <span class="st">&quot;weekend and holiday&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Weekend&quot;</span>, <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Weekday&quot;</span>),</span>
<span id="cb21-15"><a href="#cb21-15" tabindex="-1"></a>  <span class="at">user_type =</span> member_casual</span>
<span id="cb21-16"><a href="#cb21-16" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="daily-aggregates" class="section level1 info-card">
<h1>2. Daily Aggregates</h1>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>daily <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>    <span class="at">total_rides =</span> <span class="fu">n</span>(),</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>    <span class="at">avg_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>    <span class="at">member_rides =</span> <span class="fu">sum</span>(member_casual <span class="sc">==</span> <span class="st">&quot;member&quot;</span>),</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>    <span class="at">casual_rides =</span> <span class="fu">sum</span>(member_casual <span class="sc">==</span> <span class="st">&quot;casual&quot;</span>),</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>    <span class="at">tmax =</span> tmax,</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>    <span class="at">prcp =</span> prcp</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: Returning more (or less) than 1 row per `summarise()` group was deprecated in dplyr 1.1.0.
## â„¹ Please use `reframe()` instead.
## â„¹ When switching from `summarise()` to `reframe()`, remember that `reframe()` always returns an ungrouped data frame and
##   adjust accordingly.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">head</span>(daily)</span></code></pre></div>
<pre><code>## # A tibble: 6 Ã— 7
## # Groups:   start_date [1]
##   start_date total_rides avg_duration member_rides casual_rides  tmax  prcp
##   &lt;date&gt;           &lt;int&gt;        &lt;dbl&gt;        &lt;int&gt;        &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2025-09-01        2417        0.258         1691          726    78     0
## 2 2025-09-01        2417        0.258         1691          726    78     0
## 3 2025-09-01        2417        0.258         1691          726    78     0
## 4 2025-09-01        2417        0.258         1691          726    78     0
## 5 2025-09-01        2417        0.258         1691          726    78     0
## 6 2025-09-01        2417        0.258         1691          726    78     0</code></pre>
</div>
<div id="daily-ride-volume" class="section level1 info-card">
<h1>3. Daily Ride Volume</h1>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>p_daily_rides <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> start_date, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Ride Volume â€” September 2025&quot;</span>,</span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## â„¹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>p_daily_rides</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
=======
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>bike <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/final_bike_weather_categorized.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="daily-aggregates" class="section level1 info-card">
<h1>3. Daily Aggregates</h1>
<p>The table below shows the basic format of daily aggregated ride data.
Further analysis is based on this.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>daily <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>    <span class="at">total_rides =</span> <span class="fu">n</span>(),</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>    <span class="at">ride_duration_hours =</span> ride_duration_hours,</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="at">avg_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>    <span class="at">member_rides =</span> <span class="fu">sum</span>(member_casual <span class="sc">==</span> <span class="st">&quot;member&quot;</span>),</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>    <span class="at">casual_rides =</span> <span class="fu">sum</span>(member_casual <span class="sc">==</span> <span class="st">&quot;casual&quot;</span>),</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>    <span class="at">tmax =</span> tmax,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>    <span class="at">prcp =</span> prcp</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>  )</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(daily, <span class="dv">10</span>), <span class="at">caption =</span> <span class="st">&quot;Daily Overview&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="st">&quot;striped&quot;</span>,</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>                <span class="at">full_width =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>                <span class="at">position =</span> <span class="st">&quot;center&quot;</span>)</span></code></pre></div>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Daily Overview
</caption>
<thead>
<tr>
<th style="text-align:left;">
start_date
</th>
<th style="text-align:right;">
total_rides
</th>
<th style="text-align:right;">
ride_duration_hours
</th>
<th style="text-align:right;">
avg_duration
</th>
<th style="text-align:right;">
member_rides
</th>
<th style="text-align:right;">
casual_rides
</th>
<th style="text-align:right;">
tmax
</th>
<th style="text-align:right;">
prcp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.0606972
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.1243283
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.0460903
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.1965408
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.3333336
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.5045014
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.0681506
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.2391419
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.1930531
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
2025-09-01
</td>
<td style="text-align:right;">
2417
</td>
<td style="text-align:right;">
0.1152025
</td>
<td style="text-align:right;">
0.2584018
</td>
<td style="text-align:right;">
1691
</td>
<td style="text-align:right;">
726
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div id="daily-ride-volume" class="section level1 info-card">
<h1>4. Daily Ride Volume</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>p_daily_rides <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> start_date, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">lineend =</span> <span class="st">&quot;round&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;lightpink&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Ride Volume â€” September 2025&quot;</span>,</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>p_daily_rides</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>The line chart shows the daily ride volume for Citi Bike in September
2025, with ride counts ranging around 2000 to 4000 per day.</p>
<ul>
<li><p>Key trend: There is a clear upward trend in ride volume from the
start of the month, with the lowest point on September 8 (around 2000
rides) and multiple peaks later in the month (e.g., mid September and
late September, both exceeding 4000 rides).</p></li>
<li><p>Variability: Daily ride counts fluctuate noticeably, suggesting
factors like weather, weekdays vs.Â weekends, or events may be
influencing how many people use the bikes each day.</p></li>
</ul>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
</div>
<div id="member-vs-casual-ride-patterns"
class="section level1 info-card">
<h1>5. Member vs Casual Ride Patterns</h1>
<div id="daily-average-duration" class="section level2">
<<<<<<< HEAD
<h2>4.1 Daily Average Duration</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>dur_ts <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, member_casual) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="fu">ggplot</span>(dur_ts, <span class="fu">aes</span>(start_date, mean_duration, <span class="at">color =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Average Ride Duration â€” Member vs Casual&quot;</span>,</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<hr />
</div>
<div id="hourly-ride-count" class="section level2">
<h2>4.2 Hourly Ride Count</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>hourly <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>  <span class="fu">group_by</span>(hour, member_casual, weekend_and_holiday) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;hour&#39;, &#39;member_casual&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="fu">ggplot</span>(hourly, <span class="fu">aes</span>(hour, rides, <span class="at">color =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> weekend_and_holiday) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Hourly Ride Patterns â€” Member vs Casual (Weekday vs Weekend)&quot;</span>,</span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Hour of Day&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<hr />
</div>
<div id="day-of-week-pattern" class="section level2">
<h2>4.3 Day of Week Pattern</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>wday_daily <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>  <span class="fu">group_by</span>(wday, user_type) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wday =</span> <span class="fu">factor</span>(wday, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Mon&quot;</span>,<span class="st">&quot;Tue&quot;</span>,<span class="st">&quot;Wed&quot;</span>,<span class="st">&quot;Thu&quot;</span>,<span class="st">&quot;Fri&quot;</span>,<span class="st">&quot;Sat&quot;</span>,<span class="st">&quot;Sun&quot;</span>)))</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a>p_wday <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(wday_daily, <span class="fu">aes</span>(<span class="at">x =</span> wday, <span class="at">y =</span> rides, <span class="at">fill =</span> user_type)) <span class="sc">+</span></span>
<span id="cb36-7"><a href="#cb36-7" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb36-8"><a href="#cb36-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ridership by Day of Week (member vs casual)&quot;</span>,</span>
<span id="cb36-9"><a href="#cb36-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Day of Week&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;User Type&quot;</span>) <span class="sc">+</span></span>
<span id="cb36-10"><a href="#cb36-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb36-11"><a href="#cb36-11" tabindex="-1"></a></span>
<span id="cb36-12"><a href="#cb36-12" tabindex="-1"></a>p_wday</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
=======
<h2>5.1 Daily Average Duration</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>dur_ts <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, member_casual) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="fu">ggplot</span>(dur_ts, <span class="fu">aes</span>(start_date, mean_duration, <span class="at">color =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Average Ride Duration â€” Member vs Casual&quot;</span>,</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>This line chart compares the daily average ride duration (in hours)
between casual (red line) and member (teal line) Citi Bike users in
September 2025.</p>
<ul>
<li><p>Casual users consistently have longer average ride duration
(ranging from 0.3 to over 0.4 hours), with a notable spike in late
September.</p></li>
<li><p>Member users have much shorter and more stable average ride
duration (around 0.2 hours), showing minimal fluctuation throughout the
month.</p></li>
<li><p>The gap between casual and member ride duration remains
significant across all days, indicating that casual users tend to take
longer, more leisurely rides, while members use bikes for shorter, more
routine trips.</p></li>
</ul>
<hr />
</div>
<div id="hourly-ride-count" class="section level2">
<h2>5.2 Hourly Ride Count</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>hourly <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="fu">group_by</span>(hour, member_casual, weekend_and_holiday) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>())</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">ggplot</span>(hourly, <span class="fu">aes</span>(hour, rides, <span class="at">color =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> weekend_and_holiday) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Hourly Ride Patterns â€” Member vs Casual (Weekday vs Weekend)&quot;</span>,</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Hour of Day&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>This faceted line chart compares hourly ride counts between casual
(red line) and member (teal line) Citi Bike users, split by
weekends/holidays (left panel) and workdays (right panel).</p>
<p>Members primarily use bikes for weekday commutes, while casual usersâ€™
ride patterns are more consistent across weekends and workdays (with low
overall activity on workdays).</p>
<hr />
</div>
<div id="day-of-week-pattern" class="section level2">
<h2>5.3 Day of Week Pattern</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>wday_daily <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">group_by</span>(wday, user_type) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wday =</span> <span class="fu">factor</span>(wday, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Mon&quot;</span>,<span class="st">&quot;Tue&quot;</span>,<span class="st">&quot;Wed&quot;</span>,<span class="st">&quot;Thu&quot;</span>,<span class="st">&quot;Fri&quot;</span>,<span class="st">&quot;Sat&quot;</span>,<span class="st">&quot;Sun&quot;</span>)))</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>p_wday <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(wday_daily, <span class="fu">aes</span>(<span class="at">x =</span> wday, <span class="at">y =</span> rides, <span class="at">fill =</span> user_type)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ridership by Day of Week (member vs casual)&quot;</span>,</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Day of Week&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Count&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;User Type&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>p_wday</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
<p>As shown in the bar chart, it is clear that member users have much
higher ride counts than casual users.</p>
<p>Specifically, member ride counts are particularly high on Mondays and
Tuesdays and reach their lowest on weekends.</p>
<p>In contrast, casual usersâ€™ ride counts are relatively consistent
throughout the week, with slightly higher numbers on weekends. The
observation confirms the previous conclusion.</p>
<<<<<<< HEAD
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a>p_dur_group <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a>  <span class="fu">group_by</span>(member_casual, weekend_and_holiday) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a>    <span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb37-6"><a href="#cb37-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> weekend_and_holiday, <span class="at">y =</span> mean_duration,</span>
<span id="cb37-7"><a href="#cb37-7" tabindex="-1"></a>             <span class="at">fill =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Average Ride Duration â€” Member vs Casual across Weekday/Weekend&quot;</span>,</span>
<span id="cb37-10"><a href="#cb37-10" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Day Type&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-11"><a href="#cb37-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;member_casual&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a>p_dur_group</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
=======
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>p_dur_group <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">group_by</span>(member_casual, weekend_and_holiday) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>    <span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> weekend_and_holiday, <span class="at">y =</span> mean_duration,</span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a>             <span class="at">fill =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Average Ride Duration â€” Member vs Casual across Weekday/Weekend&quot;</span>,</span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Day Type&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>p_dur_group</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
</div>
</div>
<div id="time-series-of-average-ride-duration"
class="section level1 info-card">
<<<<<<< HEAD
<h1>5. Time Series of Average Ride Duration</h1>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>dur_ts <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, member_casual) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>p_dur_ts <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dur_ts, <span class="fu">aes</span>(start_date, mean_duration, <span class="at">color =</span> member_casual)) <span class="sc">+</span></span>
<span id="cb42-2"><a href="#cb42-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb42-3"><a href="#cb42-3" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Average Ride Duration â€” Member vs Casual&quot;</span>,</span>
<span id="cb42-4"><a href="#cb42-4" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb42-6"><a href="#cb42-6" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" tabindex="-1"></a>p_dur_ts</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
=======
<h1>6. Time Series of Average Ride Duration</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>dur_ts <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_duration =</span> <span class="fu">mean</span>(ride_duration_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>p_dur_ts <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dur_ts, <span class="fu">aes</span>(start_date, mean_duration)) <span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">lineend =</span> <span class="st">&quot;round&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;lightpink&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Average Ride Duration&quot;</span>,</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Duration (hours)&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>p_dur_ts</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>This line chart shows the daily average ride duration (in hours) for
September 2025, with values ranging from 0.20 to just over 0.275 hours.
The duration fluctuates slightly across the month, with the lowest point
on September 8 and the highest peak in late September, indicating small
day-to-day changes in how long rides lasted.</p>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
</div>
<div id="weather-effects" class="section level1 info-card">
<h1>7. Weather Effects</h1>
<div id="ride-count-vs-temperature-level-category"
class="section level2">
<<<<<<< HEAD
<h2>6.1 Ride Count vs Temperature Level Category</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a>p_temp_level <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, temp_level_category) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(temp_level_category, rides)) <span class="sc">+</span></span>
<span id="cb43-5"><a href="#cb43-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Counts by Temperature Level Category&quot;</span>,</span>
<span id="cb43-7"><a href="#cb43-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Temperature Category&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Daily Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a>p_temp_level</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>This plot shows that higher temperatures are associated with
increased ridership.</p>
<hr />
</div>
<div id="ride-count-vs-rain-category" class="section level2">
<h2>6.2 Ride Count vs Rain Category</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>p_rain <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, rain_category) <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(rain_category, rides)) <span class="sc">+</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Counts by Rain Category&quot;</span>,</span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Rain Category&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Daily Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a>p_rain</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>The analysis reveals a negative correlation between rainfall and
ridership.</p>
<hr />
</div>
<div id="weather-variables" class="section level2">
<h2>6.3 Weather Variables</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="co"># tmax</span></span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> tmax, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Count vs Daily Maximum Temperature&quot;</span>,</span>
<span id="cb49-6"><a href="#cb49-6" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;tmax&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb49-7"><a href="#cb49-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Failed to fit group -1.
## Caused by error in `predLoess()`:
## ! workspace required (14996775205) is too large probably because of setting &#39;se = TRUE&#39;.</code></pre>
<p><img src="EDA_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="co"># prcp</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> prcp, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Count vs Precipitation&quot;</span>,</span>
<span id="cb52-6"><a href="#cb52-6" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Precipitation (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb52-7"><a href="#cb52-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula = &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, : pseudoinverse used at -0.00505</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, : neighborhood radius 0.01505</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, : reciprocal condition number 7.1893e-25</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, : There are other near singularities as well.
## 0.0001</code></pre>
<pre><code>## Warning: Failed to fit group -1.
## Caused by error in `predLoess()`:
## ! workspace required (14996775205) is too large probably because of setting &#39;se = TRUE&#39;.</code></pre>
<p><img src="EDA_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
</div>
</div>
<div id="bike-type-analysis" class="section level1 info-card">
<h1>7. Bike Type Analysis</h1>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a>p_type <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, rideable_type) <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(rideable_type, rides)) <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Duration by Bike Type&quot;</span>,</span>
<span id="cb59-7"><a href="#cb59-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Bike Type&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Counts&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-8"><a href="#cb59-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;start_date&#39;. You can override using the `.groups` argument.</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a>p_type</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="time-series-analysis" class="section level1 info-card">
<h1>8. Time Series Analysis</h1>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="fu">library</span>(tseries)</span></code></pre></div>
<pre><code>## 
##     &#39;tseries&#39; version: 0.10-58
## 
##     &#39;tseries&#39; is a package for time series analysis and computational finance.
## 
##     See &#39;library(help=&quot;tseries&quot;)&#39; for details.</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>daily_rides <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date) <span class="sc">%&gt;%</span></span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb64-4"><a href="#cb64-4" tabindex="-1"></a></span>
<span id="cb64-5"><a href="#cb64-5" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb64-6"><a href="#cb64-6" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb64-7"><a href="#cb64-7" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" tabindex="-1"></a>ts_data <span class="ot">&lt;-</span> daily_rides <span class="sc">%&gt;%</span></span>
<span id="cb64-9"><a href="#cb64-9" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">index =</span> start_date)</span>
<span id="cb64-10"><a href="#cb64-10" tabindex="-1"></a></span>
<span id="cb64-11"><a href="#cb64-11" tabindex="-1"></a><span class="fu">autoplot</span>(ts_data, total_rides) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Ride Counts&quot;</span>,</span>
<span id="cb64-13"><a href="#cb64-13" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb64-14"><a href="#cb64-14" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Rides&quot;</span>)</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a>fit_arima <span class="ot">&lt;-</span> ts_data <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ARIMA</span>(total_rides))</span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a><span class="fu">report</span>(fit_arima)</span></code></pre></div>
=======
<h2>7.1 Ride Count vs Temperature Level Category</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>p_temp_level <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, temp_level_category) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(temp_level_category, rides, <span class="at">fill =</span> temp_level_category)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Counts by Temperature Level Category&quot;</span>,</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Temperature Category&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Daily Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>p_temp_level</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>This boxplot compares daily ride counts across â€œHighâ€ and â€œLowâ€
temperature categories.</p>
<ul>
<li><p>High temperature is associated with slightly higher median daily
ride counts and a wider range of values (with a longer whisker extending
downward).</p></li>
<li><p>Low temperature has a lower median ride count and one noticeable
low-value outlier, suggesting fewer rides on some cold days.</p></li>
<li><p>Overall, higher temperatures correspond to slightly more
consistent and higher daily ride counts than lower
temperatures.</p></li>
</ul>
<hr />
</div>
<div id="ride-count-vs-rain-category" class="section level2">
<h2>7.2 Ride Count vs Rain Category</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>p_rain <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, rain_category) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(rain_category, rides, <span class="at">fill =</span> rain_category)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Counts by Rain Category&quot;</span>,</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Rain Category&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Daily Ride Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>p_rain</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>This boxplot examines daily ride counts across four rain categories
(Heavy Rain, Light Rain, Medium Rain, No Rain).</p>
<ul>
<li><p>Heavy Rain has the lowest median daily ride count and the
smallest range, showing very few rides on days with heavy rain.</p></li>
<li><p>No Rain and Light Rain have the highest median ride counts, with
No Rain showing slightly more variability in values.</p></li>
<li><p>Medium Rain falls in the middle, with a lower median ride count
than No Rain and Light Rain but higher than Heavy Rain.</p></li>
</ul>
<p>Overall, the chart clearly shows that rain, especially heavy rain,
leads to fewer daily bike rides, while no rain or light rain is
associated with the most rides.</p>
<hr />
</div>
<div id="weather-variables" class="section level2">
<h2>7.3 Weather Variables</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># tmax</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> tmax, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Count vs Daily Maximum Temperature&quot;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;tmax&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># prcp</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">ggplot</span>(daily, <span class="fu">aes</span>(<span class="at">x =</span> prcp, <span class="at">y =</span> total_rides)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;loess&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Count vs Precipitation&quot;</span>,</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Precipitation (mm)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
</div>
</div>
<div id="bike-type-analysis" class="section level1 info-card">
<h1>8. Bike Type Analysis</h1>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>p_type <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date, rideable_type) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(rideable_type, rides, <span class="at">fill =</span> rideable_type)) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ride Duration by Bike Type&quot;</span>,</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Bike Type&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Ride Counts&quot;</span>) <span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>p_type</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>This boxplot compares daily ride counts for two bike types: classic
bikes and electric bikes.</p>
<ul>
<li><p>Electric bikes have a significantly higher median daily ride
count and a much wider range of values (with a long whisker extending
downward), showing far more frequent use overall.</p></li>
<li><p>Classic bikes have a lower median ride count and one noticeable
low-value outlier, indicating less consistent and lower daily usage
compared to electric bikes.</p></li>
<li><p>Overall, the chart clearly shows that electric bikes are used
much more heavily than classic bikes, with a larger volume of daily
rides and greater variability in usage.</p></li>
</ul>
</div>
<div id="time-series-analysis" class="section level1 info-card">
<h1>9. Time Series Analysis</h1>
<p>In this section, we will attempt to perform time series analysis on
the ride data. After that, we fit an ARIMA model to predict future ride
volume.</p>
<div id="model-fitting-and-prediction" class="section level2">
<h2>9.1 Model Fitting and Prediction</h2>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>daily_rides <span class="ot">&lt;-</span> bike <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="fu">group_by</span>(start_date) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_rides =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span>)</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a><span class="fu">library</span>(tsibble)</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="fu">library</span>(fable)</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>ts_data <span class="ot">&lt;-</span> daily_rides <span class="sc">%&gt;%</span></span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">index =</span> start_date)</span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="fu">autoplot</span>(ts_data, total_rides) <span class="sc">+</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Daily Ride Counts&quot;</span>,</span>
<span id="cb14-14"><a href="#cb14-14" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb14-15"><a href="#cb14-15" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-16"><a href="#cb14-16" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">color =</span> <span class="st">&quot;skyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb14-17"><a href="#cb14-17" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>fit_arima <span class="ot">&lt;-</span> ts_data <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>  <span class="fu">model</span>(<span class="fu">ARIMA</span>(total_rides))</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="fu">report</span>(fit_arima)</span></code></pre></div>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
<pre><code>## Series: total_rides 
## Model: ARIMA(0,1,1)(1,0,0)[7] 
## 
## Coefficients:
##           ma1    sar1
##       -0.4548  0.4685
## s.e.   0.1922  0.2006
## 
## sigma^2 estimated as 159701:  log likelihood=-214.82
## AIC=435.64   AICc=436.6   BIC=439.74</code></pre>
<<<<<<< HEAD
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>fc <span class="ot">&lt;-</span> fit_arima <span class="sc">%&gt;%</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">7</span>)</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a><span class="fu">autoplot</span>(fc, ts_data) <span class="sc">+</span></span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;ARIMA Forecast of Daily Rides&quot;</span>,</span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb67-6"><a href="#cb67-6" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Rides&quot;</span>)</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<hr />
<div id="decomposition" class="section level2">
<h2>8.1 Decomposition</h2>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a>fit_ets <span class="ot">&lt;-</span> ts_data <span class="sc">%&gt;%</span> <span class="fu">model</span>(<span class="fu">ETS</span>(total_rides))</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" tabindex="-1"></a>components_plot <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(<span class="fu">components</span>(fit_ets)) <span class="sc">+</span></span>
<span id="cb68-4"><a href="#cb68-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb68-5"><a href="#cb68-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;ETS Decomposition of Daily Ride Counts&quot;</span>,</span>
<span id="cb68-6"><a href="#cb68-6" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Using Exponential Smoothing (suitable for short, non-periodic series)&quot;</span>,</span>
<span id="cb68-7"><a href="#cb68-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb68-8"><a href="#cb68-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Value&quot;</span></span>
<span id="cb68-9"><a href="#cb68-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb68-10"><a href="#cb68-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb68-11"><a href="#cb68-11" tabindex="-1"></a></span>
<span id="cb68-12"><a href="#cb68-12" tabindex="-1"></a>components_plot</span></code></pre></div>
<pre><code>## Warning: Removed 1 row containing missing values or values outside the scale range (`geom_line()`).</code></pre>
=======
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>fc <span class="ot">&lt;-</span> fit_arima <span class="sc">%&gt;%</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">7</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">autoplot</span>(fc, ts_data) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;ARIMA Forecast of Daily Rides&quot;</span>,</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Rides&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
>>>>>>> 109e83c6f1c776338ff49e35a5e7540510b9ec61
<p><img src="EDA_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<hr />
</div>
<div id="decomposition" class="section level2">
<h2>9.2 Decomposition</h2>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>fit_ets <span class="ot">&lt;-</span> ts_data <span class="sc">%&gt;%</span> <span class="fu">model</span>(<span class="fu">ETS</span>(total_rides))</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>components_plot <span class="ot">&lt;-</span> <span class="fu">autoplot</span>(<span class="fu">components</span>(fit_ets)) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;ETS Decomposition of Daily Ride Counts&quot;</span>,</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Using Exponential Smoothing (suitable for short, non-periodic series)&quot;</span>,</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Date&quot;</span>,</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Value&quot;</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>components_plot</span></code></pre></div>
<p><img src="EDA_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>This ETS decomposition chart breaks down daily ride counts into three
components:</p>
<ul>
<li><p>Total rides (top panel): Shows the overall trend of increasing
daily ride counts through September, with small day-to-day
fluctuations.</p></li>
<li><p>Level (middle panel): Reflects the underlying smooth trend of
ride counts, which rises steadily and follows the overall upward
direction of the raw data.</p></li>
<li><p>Remainder (bottom panel): Shows the residual variation after
removing the trendâ€”these small, random fluctuations indicate no strong
unaccounted for patterns, meaning the ETS model captures the main trend
well.</p></li>
</ul>
<p>Overall, the decomposition suggests daily ride counts have a clear
upward trend in September, with only minor random variation left after
accounting for this trend.</p>
</div>
</div>
<div id="summary" class="section level1 highlight-box">
<h1>Summary</h1>
<ul>
<li>Member and casual riders display distinct <strong>daily and
weekend/weekday patterns</strong>.<br />
</li>
<li>Daily ride volume shows clear <strong>temporal trends</strong>
across September.<br />
</li>
<li>Temperature and rainfall strongly shape both <strong>trip
volume</strong>.<br />
</li>
<li>Time-series decomposition reveals trend + seasonality suitable for
forecasting.</li>
</ul>
</div>
<p><br></p>
<p><a href="index_citibike.html" class="back-home">
<i class="fa fa-home"></i> Back to Home </a></p>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <p style="margin: 10px 0;">
                    <strong>The Pulse of the City: NYC Citi Bike Ridership Analysis</strong>
                </p>
                <p style="margin: 10px 0;">
                    Columbia University Mailman School of Public Health | Data Science I (P8105) | Fall 2025
                </p>
                <p style="margin: 10px 0;">
                    <a href="https://github.com/lovenza/citibike_ny.github.io" target="_blank">
                        <i class="fa fa-github"></i> View on GitHub
                    </a>
                </p>
                <p style="margin: 10px 0; font-size: 0.9em; color: #ccc;">
                    Â© 2025 Citi Bike Analysis Team. All Rights Reserved.
                </p>
            </div>
        </div>
    </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
